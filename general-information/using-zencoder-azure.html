---
title: Uso de Zencoder con la descripción de Azure: Zencoder puede cargar y descargar archivos (blobs) desde sus contenedores de Azure. Los detalles de la cuenta, el contenedor y el blob deben estar incrustados en la URL de las entradas y salidas del trabajo.
parent: General Information
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Working_with_Azure">Trabajando con Azure</h2>

<p>&nbsp;</p>

<p>Las URL de Azure deben usar el formato azure: // account-name: account-key @ container / blob. La siguiente solicitud de trabajo muestra cómo hacer referencia a ubicaciones de Azure para entradas y salidas:</p>

<pre class="line-numbers">
<code class="language-json" translate="No">{
    "api_key": "93h630j1dsyshjef620qlkavnmzui3",
    "input": "azure://account-name:account-key@container/file-name.avi",
    "outputs": [
    {
        "url": "azure://account-name:account-key@container/output-file-name.mp4",
        "width": "1280",
        "height": "720"
    }
    ]
}</code></pre>

<p>La <strong>nombre de la cuenta</strong> y <strong>clave de cuenta</strong> debe ser CGI escapado. No es necesario escapar de nada más, como ocurre con otras URL en Zencoder. Se pueden encontrar en la interfaz de administración de Azure. El nombre de la cuenta es el nombre de la cuenta de almacenamiento (vinculada a la región, etc.). Las claves están disponibles en la parte inferior de la pantalla de descripción general de la cuenta.</p>

<p>Cada cuenta de Azure puede tener varios contenedores. La <strong>envase</strong> El campo en la URL debe definirse y configurarse en Azure antes de que pueda usarse en un trabajo de Zencoder.</p>

<p>La <strong>gota</strong> El campo en la URL representa el nombre del archivo. El blob es el único componente de la URL que no necesita configurarse previamente en Azure.</p>
</section>

<section class="bcls-section">
  <h2 id="Azure_SAS_Token_Support">Compatibilidad con token SAS de Azure</h2>
  <p>Zencoder incluye soporte para autorizar transferencias de archivos de Azure. Actualmente, solo se admiten tokens SAS de cuenta y, como parte del token, se requieren al menos los parámetros "sv", "si", "sr" y "sig".</p>

  <p>Ejemplo de token SAS:</p>

<pre><code translate="No">sv=2019-10-10&si=sas-account&sr=c&sig=as87LKJHab87afjlghKJH654kjmasfRas02fabf34x8%3D</code></pre>

<p>Hay dos formas de incluir el token SAS junto con una URL de Azure:</p>
<ul>
  <li>Agregue el token a la URL como un parámetro de cadena de consulta.</li>
  <li>Proporcione el token por separado con la configuración "azure_sas".</li>
</ul>
<aside class="bcls-aside bcls-aside--information">Nota: La URL de Azure debe utilizar un esquema azure://como es estándar en Zencoder, no https://.</aside>
<h3>Ejemplos de solicitudes de API</h3>
<h4>Ingresar URL</h4>
<h5>Versión de la cadena de consulta</h5>
<pre class="line-numbers"><code class="language-json" translate="No">{  "input": "azure://account-name@container/path/to/input.mp4?sv=2019-10-10&si=sas-account&sr=c&sig=as87LKJHab87afjlghKJH654kjmasfRas02fabf34x8%3D"}</code></pre>
<h5>Versión de parámetro independiente</h5>
<pre class="line-numbers"><code class="language-json" translate="No">{  "input": "azure://account-name@container/path/to/input.mp4",  "azure_sas": "sv=2019-10-10&si=sas-account&sr=c&sig=as87LKJHab87afjlghKJH654kjmasfRas02fabf34x8%3D"}</code></pre>
<h4>URL de salida</h4>
<aside class="bcls-aside bcls-aside--information">Nota: Para las salidas de varios archivos (como salidas HLS con un manifiesto y segmentos multimedia), el nombre de archivo dentro de la URL se actualizará automáticamente para cargar cada archivo adicional, pero la ruta y los parámetros se conservarán de lo contrario.</aside>
<h5>Versión de la cadena de consulta</h5>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "outputs": [
    {
      "url": "azure://account-name@container/path/to/output.mp4?sv=2019-10-10&si=sas-account&sr=c&sig=as87LKJHab87afjlghKJH654kjmasfRas02fabf34x8%3D"
    }
  ]
}</code></pre>
<h5>Versión de parámetro independiente</h5>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "outputs": [
    {
      "url": "azure://account-name@container/path/to/output.mp4",  "azure_sas": "sv=2019-10-10&si=sas-account&sr=c&sig=as87LKJHab87afjlghKJH654kjmasfRas02fabf34x8%3D"
    }
  ]
}</code></pre>
<h3>URL en miniatura</h3>
<p>Para las miniaturas, la URL base normalmente no incluye un nombre de archivo. Al igual que con las URL de salida, esto se actualizará de manera que se conserven los parámetros de la cadena de consulta que incluyen un token SAS.</p>
<h4>Versión de la cadena de consulta</h4>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "outputs": [
    {
      "thumbnails": [
        {
          "label": "my-thumbs",
          "number": 10,
          "base_url": "azure://account-name@container/path/to/thumbs/?sv=2019-10-10&si=sas-account&sr=c&sig=as87LKJHab87afjlghKJH654kjmasfRas02fabf34x8%3D"
        }
      ]
    }
  ]
}</code></pre>
<h4>Versión de parámetro independiente</h4>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "outputs": [
    {
      "thumbnails": [
        {
          "label": "my-thumbs",
          "number": 10,
          "base_url": "azure://account-name@container/path/to/thumbs/",
          "azure_sas": "sv=2019-10-10&si=sas-account&sr=c&sig=as87LKJHab87afjlghKJH654kjmasfRas02fabf34x8%3D"
        }
      ]
    }
  ]
}</code></pre>
</section>
</article>